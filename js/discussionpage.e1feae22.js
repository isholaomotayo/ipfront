(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["discussionpage"],{1173:function(t,e){t.exports=function(t,e,s,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(s+": incorrect invocation!");return t}},"24c5":function(t,e,s){"use strict";var n,a,r,i,o=s("b8e3"),c=s("e53d"),u=s("d864"),d=s("40c3"),l=s("63b6"),f=s("f772"),h=s("79aa"),m=s("1173"),v=s("a22a"),p=s("f201"),_=s("4178").set,b=s("aba2")(),g=s("656e"),y=s("4439"),w=s("bc13"),x=s("cd78"),C="Promise",j=c.TypeError,T=c.process,O=T&&T.versions,U=O&&O.v8||"",D=c[C],k="process"==d(T),L=function(){},R=a=g.f,P=!!function(){try{var t=D.resolve(1),e=(t.constructor={})[s("5168")("species")]=function(t){t(L,L)};return(k||"function"==typeof PromiseRejectionEvent)&&t.then(L)instanceof e&&0!==U.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(n){}}(),N=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},E=function(t,e){if(!t._n){t._n=!0;var s=t._c;b(function(){var n=t._v,a=1==t._s,r=0,i=function(e){var s,r,i,o=a?e.ok:e.fail,c=e.resolve,u=e.reject,d=e.domain;try{o?(a||(2==t._h&&$(t),t._h=1),!0===o?s=n:(d&&d.enter(),s=o(n),d&&(d.exit(),i=!0)),s===e.promise?u(j("Promise-chain cycle")):(r=N(s))?r.call(s,c,u):c(s)):u(n)}catch(l){d&&!i&&d.exit(),u(l)}};while(s.length>r)i(s[r++]);t._c=[],t._n=!1,e&&!t._h&&I(t)})}},I=function(t){_.call(c,function(){var e,s,n,a=t._v,r=S(t);if(r&&(e=y(function(){k?T.emit("unhandledRejection",a,t):(s=c.onunhandledrejection)?s({promise:t,reason:a}):(n=c.console)&&n.error&&n.error("Unhandled promise rejection",a)}),t._h=k||S(t)?2:1),t._a=void 0,r&&e.e)throw e.v})},S=function(t){return 1!==t._h&&0===(t._a||t._c).length},$=function(t){_.call(c,function(){var e;k?T.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})})},M=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),E(e,!0))},F=function(t){var e,s=this;if(!s._d){s._d=!0,s=s._w||s;try{if(s===t)throw j("Promise can't be resolved itself");(e=N(t))?b(function(){var n={_w:s,_d:!1};try{e.call(t,u(F,n,1),u(M,n,1))}catch(a){M.call(n,a)}}):(s._v=t,s._s=1,E(s,!1))}catch(n){M.call({_w:s,_d:!1},n)}}};P||(D=function(t){m(this,D,C,"_h"),h(t),n.call(this);try{t(u(F,this,1),u(M,this,1))}catch(e){M.call(this,e)}},n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=s("5c95")(D.prototype,{then:function(t,e){var s=R(p(this,D));return s.ok="function"!=typeof t||t,s.fail="function"==typeof e&&e,s.domain=k?T.domain:void 0,this._c.push(s),this._a&&this._a.push(s),this._s&&E(this,!1),s.promise},catch:function(t){return this.then(void 0,t)}}),r=function(){var t=new n;this.promise=t,this.resolve=u(F,t,1),this.reject=u(M,t,1)},g.f=R=function(t){return t===D||t===i?new r(t):a(t)}),l(l.G+l.W+l.F*!P,{Promise:D}),s("45f2")(D,C),s("4c95")(C),i=s("584a")[C],l(l.S+l.F*!P,C,{reject:function(t){var e=R(this),s=e.reject;return s(t),e.promise}}),l(l.S+l.F*(o||!P),C,{resolve:function(t){return x(o&&this===i?D:this,t)}}),l(l.S+l.F*!(P&&s("4ee1")(function(t){D.all(t)["catch"](L)})),C,{all:function(t){var e=this,s=R(e),n=s.resolve,a=s.reject,r=y(function(){var s=[],r=0,i=1;v(t,!1,function(t){var o=r++,c=!1;s.push(void 0),i++,e.resolve(t).then(function(t){c||(c=!0,s[o]=t,--i||n(s))},a)}),--i||n(s)});return r.e&&a(r.v),s.promise},race:function(t){var e=this,s=R(e),n=s.reject,a=y(function(){v(t,!1,function(t){e.resolve(t).then(s.resolve,n)})});return a.e&&n(a.v),s.promise}})},3024:function(t,e){t.exports=function(t,e,s){var n=void 0===s;switch(e.length){case 0:return n?t():t.call(s);case 1:return n?t(e[0]):t.call(s,e[0]);case 2:return n?t(e[0],e[1]):t.call(s,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(s,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(s,e[0],e[1],e[2],e[3])}return t.apply(s,e)}},"3c11":function(t,e,s){"use strict";var n=s("63b6"),a=s("584a"),r=s("e53d"),i=s("f201"),o=s("cd78");n(n.P+n.R,"Promise",{finally:function(t){var e=i(this,a.Promise||r.Promise),s="function"==typeof t;return this.then(s?function(s){return o(e,t()).then(function(){return s})}:t,s?function(s){return o(e,t()).then(function(){throw s})}:t)}})},4178:function(t,e,s){var n,a,r,i=s("d864"),o=s("3024"),c=s("32fc"),u=s("1ec9"),d=s("e53d"),l=d.process,f=d.setImmediate,h=d.clearImmediate,m=d.MessageChannel,v=d.Dispatch,p=0,_={},b="onreadystatechange",g=function(){var t=+this;if(_.hasOwnProperty(t)){var e=_[t];delete _[t],e()}},y=function(t){g.call(t.data)};f&&h||(f=function(t){var e=[],s=1;while(arguments.length>s)e.push(arguments[s++]);return _[++p]=function(){o("function"==typeof t?t:Function(t),e)},n(p),p},h=function(t){delete _[t]},"process"==s("6b4c")(l)?n=function(t){l.nextTick(i(g,t,1))}:v&&v.now?n=function(t){v.now(i(g,t,1))}:m?(a=new m,r=a.port2,a.port1.onmessage=y,n=i(r.postMessage,r,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(n=function(t){d.postMessage(t+"","*")},d.addEventListener("message",y,!1)):n=b in u("script")?function(t){c.appendChild(u("script"))[b]=function(){c.removeChild(this),g.call(t)}}:function(t){setTimeout(i(g,t,1),0)}),t.exports={set:f,clear:h}},"43fc":function(t,e,s){"use strict";var n=s("63b6"),a=s("656e"),r=s("4439");n(n.S,"Promise",{try:function(t){var e=a.f(this),s=r(t);return(s.e?e.reject:e.resolve)(s.v),e.promise}})},4439:function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},"4c95":function(t,e,s){"use strict";var n=s("e53d"),a=s("584a"),r=s("d9f6"),i=s("8e60"),o=s("5168")("species");t.exports=function(t){var e="function"==typeof a[t]?a[t]:n[t];i&&e&&!e[o]&&r.f(e,o,{configurable:!0,get:function(){return this}})}},"4d0f":function(t,e,s){"use strict";s.d(e,"i",function(){return c}),s.d(e,"l",function(){return u}),s.d(e,"e",function(){return d}),s.d(e,"f",function(){return l}),s.d(e,"a",function(){return f}),s.d(e,"m",function(){return h}),s.d(e,"n",function(){return m}),s.d(e,"p",function(){return v}),s.d(e,"j",function(){return p}),s.d(e,"b",function(){return _}),s.d(e,"h",function(){return b}),s.d(e,"d",function(){return g}),s.d(e,"k",function(){return y}),s.d(e,"c",function(){return w}),s.d(e,"g",function(){return x}),s.d(e,"o",function(){return C});var n=s("795b"),a=s.n(n),r=s("bc3a"),i=s.n(r),o=s("5f87");function c(t,e){return Object(o["b"])()?i.a.get("/v1/classes?limit=".concat(t,"&offset=").concat(e)):a.a.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function u(t,e){return Object(o["b"])()?i.a.get("/v1/classes/filter?status=".concat(t,"&career_id=").concat(e)):a.a.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function d(t,e){return Object(o["b"])()?i.a.get("/v1/classes/".concat(t,"?userId=").concat(e)):a.a.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function l(t){return Object(o["b"])()?i.a.get("/v1/classes/".concat(t,"/forum")):a.a.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function f(t,e){return Object(o["b"])()?i.a.post("/v1/classes/".concat(t,"/forum"),e):a.a.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function h(t,e,s){return Object(o["b"])()?i.a.get("/v1/classes/".concat(t,"/lessons/").concat(e,"?userId=").concat(s)):a.a.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function m(t,e,s,n){return Object(o["b"])()?i.a.get("/v1/classes/".concat(t,"/lessons/").concat(e,"/modules/").concat(s,"?userId=").concat(n)):a.a.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function v(t,e){return Object(o["b"])()?i.a.post("/v1/classes/".concat(t,"/learners"),e):a.a.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function p(t,e){return Object(o["b"])()?i.a.get("/v1/classes/".concat(t,"/forum/").concat(e)).then(function(t){return t}):a.a.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function _(t,e,s){return Object(o["b"])()?i.a.post("/v1/classes/".concat(t,"/forum/").concat(e,"/thread"),s):a.a.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function b(t){return Object(o["b"])()?i.a.get("/v1/classes/".concat(t,"/quiz")):a.a.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function g(t,e){return Object(o["b"])()?i.a.delete("/v1/classes/".concat(t,"/forum/").concat(e)):a.a.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function y(t,e){return Object(o["b"])()?i.a.get("/v1/classes/".concat(t,"/forum/").concat(e,"/thread")).then(function(t){return t}):a.a.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function w(t,e,s){return Object(o["b"])()?i.a.delete("/v1/classes/".concat(t,"/forum/").concat(e,"/thread/").concat(s)):a.a.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function x(t,e){return Object(o["b"])()?i.a.get("/v1/classes/".concat(t,"/learners/").concat(e)):a.a.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function C(t,e){return Object(o["b"])()?i.a.get("/v1/classes/".concat(t,"/user/").concat(e)):a.a.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}},"555f":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{staticClass:"lds-spinner",staticStyle:{background:"none"},attrs:{width:"50px",height:"50px",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"}},[s("g",{attrs:{transform:"rotate(0 50 50)"}},[s("rect",{attrs:{x:"47",y:"24",rx:"9.4",ry:"4.8",width:"6",height:"12",fill:"#215d38"}},[s("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.9166666666666666s",repeatCount:"indefinite"}})])]),s("g",{attrs:{transform:"rotate(30 50 50)"}},[s("rect",{attrs:{x:"47",y:"24",rx:"9.4",ry:"4.8",width:"6",height:"12",fill:"#215d38"}},[s("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.8333333333333334s",repeatCount:"indefinite"}})])]),s("g",{attrs:{transform:"rotate(60 50 50)"}},[s("rect",{attrs:{x:"47",y:"24",rx:"9.4",ry:"4.8",width:"6",height:"12",fill:"#215d38"}},[s("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.75s",repeatCount:"indefinite"}})])]),s("g",{attrs:{transform:"rotate(90 50 50)"}},[s("rect",{attrs:{x:"47",y:"24",rx:"9.4",ry:"4.8",width:"6",height:"12",fill:"#215d38"}},[s("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.6666666666666666s",repeatCount:"indefinite"}})])]),s("g",{attrs:{transform:"rotate(120 50 50)"}},[s("rect",{attrs:{x:"47",y:"24",rx:"9.4",ry:"4.8",width:"6",height:"12",fill:"#215d38"}},[s("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5833333333333334s",repeatCount:"indefinite"}})])]),s("g",{attrs:{transform:"rotate(150 50 50)"}},[s("rect",{attrs:{x:"47",y:"24",rx:"9.4",ry:"4.8",width:"6",height:"12",fill:"#215d38"}},[s("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5s",repeatCount:"indefinite"}})])]),s("g",{attrs:{transform:"rotate(180 50 50)"}},[s("rect",{attrs:{x:"47",y:"24",rx:"9.4",ry:"4.8",width:"6",height:"12",fill:"#215d38"}},[s("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.4166666666666667s",repeatCount:"indefinite"}})])]),s("g",{attrs:{transform:"rotate(210 50 50)"}},[s("rect",{attrs:{x:"47",y:"24",rx:"9.4",ry:"4.8",width:"6",height:"12",fill:"#215d38"}},[s("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.3333333333333333s",repeatCount:"indefinite"}})])]),s("g",{attrs:{transform:"rotate(240 50 50)"}},[s("rect",{attrs:{x:"47",y:"24",rx:"9.4",ry:"4.8",width:"6",height:"12",fill:"#215d38"}},[s("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.25s",repeatCount:"indefinite"}})])]),s("g",{attrs:{transform:"rotate(270 50 50)"}},[s("rect",{attrs:{x:"47",y:"24",rx:"9.4",ry:"4.8",width:"6",height:"12",fill:"#215d38"}},[s("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.16666666666666666s",repeatCount:"indefinite"}})])]),s("g",{attrs:{transform:"rotate(300 50 50)"}},[s("rect",{attrs:{x:"47",y:"24",rx:"9.4",ry:"4.8",width:"6",height:"12",fill:"#215d38"}},[s("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.08333333333333333s",repeatCount:"indefinite"}})])]),s("g",{attrs:{transform:"rotate(330 50 50)"}},[s("rect",{attrs:{x:"47",y:"24",rx:"9.4",ry:"4.8",width:"6",height:"12",fill:"#215d38"}},[s("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"0s",repeatCount:"indefinite"}})])])])},a=[],r={name:"Loader"},i=r,o=s("2877"),c=Object(o["a"])(i,n,a,!1,null,null,null);e["a"]=c.exports},"5c95":function(t,e,s){var n=s("35e8");t.exports=function(t,e,s){for(var a in e)s&&t[a]?t[a]=e[a]:n(t,a,e[a]);return t}},"656e":function(t,e,s){"use strict";var n=s("79aa");function a(t){var e,s;this.promise=new t(function(t,n){if(void 0!==e||void 0!==s)throw TypeError("Bad Promise constructor");e=t,s=n}),this.resolve=n(e),this.reject=n(s)}t.exports.f=function(t){return new a(t)}},"696e":function(t,e,s){s("c207"),s("1654"),s("6c1c"),s("24c5"),s("3c11"),s("43fc"),t.exports=s("584a").Promise},"707c":function(t,e,s){t.exports=s.p+"img/profile.a46d8ad4.jpg"},"77b9":function(t,e,s){"use strict";s("cadf"),s("551c"),s("f751"),s("097d");var n=s("f0b1"),a=s.n(n),r={create:{title:a.a.string().min(2).required(),description:a.a.string().min(2).required()},thread:{body:a.a.string().min(2).required()}};e["a"]=r},"795b":function(t,e,s){t.exports=s("696e")},"7c9f":function(t,e,s){"use strict";var n=s("e7cf"),a=s.n(n);a.a},a22a:function(t,e,s){var n=s("d864"),a=s("b0dc"),r=s("3702"),i=s("e4ae"),o=s("b447"),c=s("7cd6"),u={},d={};e=t.exports=function(t,e,s,l,f){var h,m,v,p,_=f?function(){return t}:c(t),b=n(s,l,e?2:1),g=0;if("function"!=typeof _)throw TypeError(t+" is not iterable!");if(r(_)){for(h=o(t.length);h>g;g++)if(p=e?b(i(m=t[g])[0],m[1]):b(t[g]),p===u||p===d)return p}else for(v=_.call(t);!(m=v.next()).done;)if(p=a(v,b,m.value,e),p===u||p===d)return p};e.BREAK=u,e.RETURN=d},aba2:function(t,e,s){var n=s("e53d"),a=s("4178").set,r=n.MutationObserver||n.WebKitMutationObserver,i=n.process,o=n.Promise,c="process"==s("6b4c")(i);t.exports=function(){var t,e,s,u=function(){var n,a;c&&(n=i.domain)&&n.exit();while(t){a=t.fn,t=t.next;try{a()}catch(r){throw t?s():e=void 0,r}}e=void 0,n&&n.enter()};if(c)s=function(){i.nextTick(u)};else if(!r||n.navigator&&n.navigator.standalone)if(o&&o.resolve){var d=o.resolve(void 0);s=function(){d.then(u)}}else s=function(){a.call(n,u)};else{var l=!0,f=document.createTextNode("");new r(u).observe(f,{characterData:!0}),s=function(){f.data=l=!l}}return function(n){var a={fn:n,next:void 0};e&&(e.next=a),t||(t=a,s()),e=a}}},bc13:function(t,e,s){var n=s("e53d"),a=n.navigator;t.exports=a&&a.userAgent||""},c207:function(t,e){},cd78:function(t,e,s){var n=s("e4ae"),a=s("f772"),r=s("656e");t.exports=function(t,e){if(n(t),a(e)&&e.constructor===t)return e;var s=r.f(t),i=s.resolve;return i(e),s.promise}},e7cf:function(t,e,s){},ee85:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loadingItemData?[n("div",{staticClass:"div__loading"},[n("loader")],1)]:[n("section",{staticClass:"section forum"},[n("div",{staticClass:"container"},[n("div",{staticClass:"section__row section__row--between"},[n("h4",{staticClass:"section__title"},[t._v(t._s(t.itemData.title))])]),n("div",[n("a",{staticClass:"link",on:{click:function(e){t.$router.go(-1)}}},[n("span",{staticClass:"icon"},[n("svg",{attrs:{width:"19",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M14.28 3.85H1.34L4.06.8a.48.48 0 1 0-.72-.64L.28 3.6a1.1 1.1 0 0 0 0 1.46L3.34 8.5a.48.48 0 0 0 .68.04c.2-.18.22-.48.04-.68L1.34 4.8h12.94a3.76 3.76 0 0 1 0 7.52H12a.48.48 0 1 0 0 .96h2.28a4.72 4.72 0 0 0 0-9.44z",fill:"#000"}})])]),n("button",{staticClass:"btn__plain bg-secondary text-white-70"},[t._v("Go back")])]),n("button",{staticClass:"btn__plain"},[t._v("report")]),t.isDiscussionOwner?[n("button",{staticClass:"btn__plain",on:{click:function(e){return e.preventDefault(),t.deleteCourseForum(e)}}},[t._v("\n                                    Delete Post\n                            ")])]:t._e()],2)]),n("div",{staticClass:"container"},[n("div",{staticClass:"forum__wrapper"},[n("main",{staticClass:"forum__main"},[n("div",{staticClass:"forum__body"},[n("div",{staticClass:"forum__thread"},[n("ul",{},[n("li",{staticClass:"forum__post item__row"},[n("img",{staticClass:"post__img",attrs:{src:t.itemData.user.avatar,alt:""}}),n("div",{staticClass:"item__body"},[n("div",{},[n("span",{staticClass:"title bold"},[n("span",{staticClass:"title bold"},[t._v(t._s(t.itemData.user.fname+" "+t.itemData.user.lname))])]),n("span",{staticClass:"grey"},[t._v(t._s(t._f("date")(t.itemData.created_at)))])]),n("p",{staticClass:"forum__text"},[t._v(t._s(t.itemData.description))])])]),n("li",{staticClass:"forum__post item__row"},[t.itemData.user.avatar?n("img",{staticClass:"post__img",attrs:{src:t.itemData.user.avatar,alt:""}}):n("img",{staticClass:"post__img",attrs:{src:s("707c"),alt:""}}),n("form",{staticClass:"forum__post__form item__body",attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.createThread(e)}}},[n("label",{staticClass:"label--block",attrs:{for:"forum-thread"}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment.body,expression:"comment.body"}],staticClass:"input input--lg",class:[{"is-invalid":t.errors.body}],attrs:{name:"",id:"forum-thread",cols:"50",rows:"3",placeholder:"Type here to reply..."},domProps:{value:t.comment.body},on:{keydown:function(e){t.clearErrors(e.target.name)},input:function(e){e.target.composing||t.$set(t.comment,"body",e.target.value)}}})]),n("div",{staticClass:"btn-group"},[n("button",{staticClass:"btn__primary btn__primary--alt",attrs:{"v-bind":{disabled:t.loading||!t.comment.body},type:"submit"},on:{click:function(e){return e.preventDefault(),t.createThread(e)}}},[t._v("Post Comment")]),t.loading?n("Loader"):t._e()],1)])])]),t.threads.length?n("h5",{staticClass:"bold"},[t._v(t._s(t.threads.length)+" comments")]):t._e(),n("ul",{staticClass:"forum__thread"},[[t.threads.length>0?t._l(t.threads,function(e){return n("li",{key:e.id},[n("div",{staticClass:"forum__post item__row thread"},[n("img",{staticClass:"post__img post__img--sm",attrs:{src:e.user.avatar,alt:""}}),n("div",{staticClass:"item__body"},[n("p",{staticClass:"forum__text"},[n("span",{staticClass:"bold"},[t._v("\n                                                                    "+t._s(e.user.fname+" "+e.user.lname)+"\n                                                                ")]),t._v("\n                                                                "+t._s(e.body)+"\n                                                            ")]),n("div",{staticClass:"item__meta"},[n("span",[t._v("\n                                                                    "+t._s(t._f("date")(e.created_at))+"\n                                                                ")]),t.isThreadOwner?[n("button",{staticClass:"btn__plain btn__plain--sm",on:{click:function(s){t.deleteCourseDiscussionThread(e.id)}}},[t._v("Delete")])]:t._e()],2)])])])}):[t._v("\n                                                No comments\n                                            ")]]],2)])])])])])])]],2)},a=[],r=(s("ac6a"),s("cebc")),i=s("a4bb"),o=s.n(i),c=(s("cadf"),s("551c"),s("f751"),s("097d"),s("2f62")),u=s("4d0f"),d=s("77b9"),l=s("e49c"),f=s("eae4"),h=s("555f"),m={name:"DiscussionPage",mixins:[l["a"]],props:{joinedCourse:[Boolean,String]},data:function(){return{loadingItemData:!0,itemData:{},itemDataLoaded:!1,threads:[],loadingThreads:!0,threadsLoaded:!1,errors:{},comment:{body:""},loading:!1,isDiscussionOwner:!1,isThreadOwner:!1}},mounted:function(){this.getDiscussionThread(),this.getDiscussionThreadList()},methods:{getDiscussionThread:function(){var t=this,e=this.$route.params,s=e.id,n=e.discussionId;Object(u["j"])(s,n).then(function(e){return 200===e.status?(t.itemData=e.data.data,t.itemData.user_id===t.loggedUser.id?(t.isDiscussionOwner=!0,!0):(t.itemDataLoaded=!0,!0)):(t.itemDataLoaded=!1,!1)}).catch(function(e){return t.itemDataLoaded=!1,!1}).finally(function(){t.loadingItemData=!1})},createThread:function(){var t=this;if(this.validate(this.comment,d["a"].thread),o()(this.issues).length>0)return this.errors=this.issues,!1;var e=this.$route.params,s=e.id,n=e.discussionId;return Object(u["b"])(s,n,Object(r["a"])({},this.comment,{class_forum_id:n,user_id:this.loggedUser.id})).then(function(e){return 201===e.status?(Object(f["b"])({title:"Success! Added new discussion comment."}),t.comment.body="",t.threads.unshift(Object(r["a"])({},e.data,{user:t.loggedUser})),t.threadsLoaded=!0,!0):(t.threadsLoaded=!1,!1)}).catch(function(e){return Object(f["a"])({title:"Oops! Something went wrong",text:e.data}),t.threadsLoaded=!1,!1}),!0},deleteCourseForum:function(){var t=this,e=this.$route.params,s=e.id,n=e.discussionId;return Object(u["d"])(s,n).then(function(e){return 200===e.status&&(Object(f["b"])({title:"Success! Course Discussion has been deleted."}),t.$router.push("/courses/".concat(s)),!0)}).catch(function(t){return Object(f["a"])({title:"Oops! Something went wrong",text:t.data}),!1}),!0},getDiscussionThreadList:function(){var t=this,e=this.$route.params,s=e.id,n=e.discussionId;Object(u["k"])(s,n).then(function(e){return 200===e.status?(t.threads=e.data.data,t.threads.forEach(function(e){return e.user_id===t.loggedUser.id&&(t.isThreadOwner=!0,!0)}),t.threadsLoaded=!0,!0):(t.threadsLoaded=!1,!1)}).catch(function(e){return t.threadsLoaded=!1,!1}).finally(function(){t.loadingThreads=!1})},deleteCourseDiscussionThread:function(t){var e=this,s=this.$route.params,n=s.id,a=s.discussionId,i=t;return Object(u["c"])(n,a,i).then(function(t){return 200===t.status&&(e.threads.shift(Object(r["a"])({},t.data)),Object(f["b"])({title:"Success! Discussion thread has been deleted."}),!0)}).catch(function(t){return Object(f["a"])({title:"Oops! Something went wrong",text:t.data}),!1}),!0}},filters:{date:function(t){return moment(t).fromNow()}},components:{Loader:h["a"]},computed:Object(r["a"])({},Object(c["c"])({loggedUser:"getLoggedUser"}))},v=m,p=(s("7c9f"),s("2877")),_=Object(p["a"])(v,n,a,!1,null,"bf09af46",null);e["default"]=_.exports},f201:function(t,e,s){var n=s("e4ae"),a=s("79aa"),r=s("5168")("species");t.exports=function(t,e){var s,i=n(t).constructor;return void 0===i||void 0==(s=n(i)[r])?e:a(s)}}}]);
//# sourceMappingURL=discussionpage.e1feae22.js.map